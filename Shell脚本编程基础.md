## Shell脚本编程基础

### 构建基本脚本
1. 创建shell脚本文件
	在创建shell脚本文件时，必须在文件的第一行指定要使用的shell。 eg. #!/bin/bash
	要让shell找到test脚本，需要：将shell脚本文件所处的目录添加到PATH环境变量中/在提示符中用绝对或相对文件路径来引用shell脚本文件
	上述过程之后并没有拥有执行文件的权限，因此需要使用chmod修改权限 eg. chmod u+x test
2. 变量
	使用$引用值
3. 命令替换
	shell脚本中最有用的特性就是可以从命令输出中提取信息，并将其赋给变量。把输出赋给变量之后，就可以随意在脚本中使用了。
	有两种方法可以将命令输出赋给变量：
	* 反引号字符（`） eg. testing=`date`
	* $()格式 eg.testing=$(date)
4. 重定向输入和输出
	* 重定向输出 eg. date > test(覆盖文件)；date >> test(追加数据)  
	* 重定向输入 eg. wc < test(读取文件数据) [wc命令可以对数据中的文本进行计数]； 内链输入重定向符号“<<”
5. 管道
	将命令输出直接重定向到另一个命令：管道连接
	eg. rpm _qa | sort  [rpm -qa 生成已安装包的列表，把结果交给sort按字母排序]
6. 在脚本中使用数学计算
	variable=$(echo "options; expression" | bc) 
	第一部分options允许你设置变量。如果你需要不止一个变量，可以用分号将其分开。expression参数定义了通过bc执行的数学表达式
	对于较大量的运算，则可以使用内联输入重定向  
	```
	eg. 	
	var5=$(bc << EOF
		scale=4
		a1=( $var1 * $var2)
		b1=( $vae3 * $var4)
		a1+b1
		EOF
		)   注：使用EOF字符串标识重定向给bc命令的数据的起止。且需要用命令替换符号标识出用来给变量赋值的命令。
	```
7. 退出脚本
	* $? 保存上个已执行命令的退出状态码
	* 可以使用exit [num] 来自定义退出状态码

